import{i as f}from"./navbartoogle-D322PrHI.js";import{g as d,u,s as i}from"./cartUtiliy-DCEfhhxT.js";const g=document.querySelector("#productCartTemplate"),c=document.querySelector("#productCartContainer");let r=d();function o(){if(r=d(),c.innerHTML="",!r.length){c.innerHTML="<h2>Your cart is empty!</h2>",u(),l(0);return}r.forEach(t=>{const{id:n,name:m,image:y,price:S,totalPrice:q,quantity:s,stock:C}=t,e=document.importNode(g.content,!0);e.querySelector(".productImage").src=y,e.querySelector(".productImage").alt=m,e.querySelector(".productName").textContent=m,e.querySelector(".productPrice").textContent=`$${q.toFixed(2)}`,e.querySelector(".productQuantity").textContent=s,e.querySelector(".cartIncrement").addEventListener("click",()=>{t.quantity<C&&(t.quantity++,t.totalPrice=Number((t.quantity*t.price).toFixed(2)),i(r),o())}),e.querySelector(".cartDecrement").addEventListener("click",()=>{t.quantity>1&&(t.quantity--,t.totalPrice=Number((t.quantity*t.price).toFixed(2)),i(r),o())}),e.querySelector(".remove-to-cart-button").addEventListener("click",()=>{r=r.filter(p=>p.id!==n),i(r),o()}),c.appendChild(e)});const a=r.reduce((t,n)=>t+n.totalPrice,0);l(a);function l(t){const n=document.getElementById("subtotalAmount");n&&(n.textContent=t>0?`$${t.toFixed(2)}`:"$0.00")}u()}o();window.addEventListener("storage",a=>{a.key==="cartItems"&&u()});f();
