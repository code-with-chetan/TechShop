import{i as l}from"./navbartoogle-D322PrHI.js";import{u as a}from"./cartUtiliy-DCEfhhxT.js";const t=JSON.parse(localStorage.getItem("selectedProducts"));if(!t)window.location.href="index.html";else{document.getElementById("product-img").src=t.image,document.getElementById("product-img").alt=t.name,document.getElementById("product-heading").textContent=t.name,document.getElementById("price").textContent=`$ ${t.price}`,document.getElementById("description").textContent=t.description,document.getElementById("stock").textContent=t.stock;let e=1;const m=parseInt(document.getElementById("stock").textContent),r=document.querySelector(".quantity-button"),d=r.querySelector(".valuebtn");r.addEventListener("click",o=>{const c=o.target;c.classList.contains("increment")&&e<m&&(e++,d.textContent=e),c.classList.contains("decrement")&&e>1&&(e--,d.textContent=e)}),document.querySelector(".addTo-cart--btn").addEventListener("click",()=>{let o=JSON.parse(localStorage.getItem("cartItems"))||[];const c=o.findIndex(n=>n.id===t.id),s=t.price,i=e;if(c!==-1){const n=o[c];if(n.quantity===i){alert("This product is already added with the same quantity.");return}if(i>t.stock){alert("You have reached the stock limit.");return}n.quantity=i,n.totalPrice=s*i}else{const n={id:t.id,name:t.name,image:t.image,price:t.price,quantity:i,totalPrice:s*i,stock:t.stock};o.push(n)}localStorage.setItem("cartItems",JSON.stringify(o)),a(),window.addEventListener("storage",n=>{n.key==="cartItems"&&a()})})}a();window.addEventListener("storage",e=>{e.key==="cartItems"&&a()});l();
